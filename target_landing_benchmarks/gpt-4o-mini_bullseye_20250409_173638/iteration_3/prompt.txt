# Rocket Design Task

## Design Requirements

- **Target Landing Position**: (3000.0m, 5000.0m) - land as close as possible to these coordinates
- **Wind Conditions**: 20 m/s from E direction

## You are scored off the following
Distance to max apogee
Cost: Cheaper the rocket the better the score
Does it land safely (less than 5 m/s)
Does it not break
Horz distance: How far is it from the intial launch site

#Score func code shown below:
# Apogee accuracy (25% of total score)
    apogee_error_percent = abs(actual_apogee - target_apogee) / target_apogee * 100
    apogee_reward = math.exp(-0.5 * (apogee_error_percent / 20)**2)  # 20% error = 1 sigma
    
    # Cost efficiency (15% of total score)
    cost_reward = math.exp(-0.5 * (total_cost / 1000)**2)  # Scale based on expected cost range
    
    # Safety (20% of total score)
    if structural_failure:
        safety_reward = 0.0
    else:
        # Impact velocity component
        safe_velocity = 10.0  # m/s
        velocity_reward = math.exp(-0.5 * ((impact_velocity - safe_velocity) / 5)**2)
        safety_reward = velocity_reward
    
    # Calculate weighted total reward
    total_reward = (
        0.45 * landing_reward +    # Landing accuracy
        0.35 * apogee_reward +     # Apogee accuracy
        0.15 * cost_reward +       # Cost efficiency
        0.05 * safety_reward       # Safety
    )


## Available Materials

The following materials are available for the rocket components:
aluminum, composite, fiberglass, carbon_fiber, balsa_wood, plywood, ABS_plastic

## Available Motors

Name,Manufacturer,Radius (mm),Length (mm),Dry Mass (kg),Max Thrust (N),Avg Thrust (N),Burn Time (s),Total Impulse (Ns),Isp (s)
Pro75M1670,CTI,75,757,1.815,2200,1533.9,3.9,6023.6,198
AeroTechK700W,AT,54,568,0.732,1029.3,658.7,3.5,2249,177.5
CesaroniM1670,CTI,75,757,3.101,2200,1533.9,3.6,6023.6,198
AeroTechH128W,AT,29,194,0.108,190.5,141.2,1.29,176.5,191.3
CesaroniO3700,CTI,161,957,14.194,4030.3,2836.9,8.2,29930.2,177.8
CesaroniO5800,CTI,150,754,12.418,6395.5,5040.2,5.2,30382.7,222
CesaroniK160,CTI,54,404,0.7,272.2,190.2,9.7,1521.7,182.9

## Design Task

Based on the requirements and available components, design a rocket that will reach the target apogee. Your design should include:

1. Motor selection (choose from the available motors list)
2. Body dimensions and material
3. Nose cone dimensions and material
4. Fin design and material
5. Parachute specifications
6. Launch rail configuration


### Notes
DRC are run on the design so you need to make sure the design is feasible.
Here are some of the checks:
Notes for the tail the top and bottom radius cannot be the same (causes error)
The material must be specified exactly as listed above
The body radius must be greater than the motor radius
Nose cone but by exactly one of the listed 
Don't include any additional python code (other than config. Putting calculation in there is ok like 32/4 but not whole functions

## Response Format

Please provide your design as a Python dictionary that can be directly used in our simulation software. Use the following format:

```python
config = {
    "motor_choice": "MOTOR_NAME",  # Choose from available motors
    "rocket_body": {
        "radius": RADIUS_IN_METERS,  # Body radius in meters (must be greater than motor Radius)
        "length": LENGTH_IN_METERS,  # Body length in meters
        "material": "MATERIAL",  # Choose from available materials
        "thickness": THICKNESS_IN_METERS,  # Wall thickness in meters
    },
    "aerodynamics": {
        "nose_cone": {
            "kind": "SHAPE",  # "conical", "ogive", "elliptical", "tangent", "von karman", "parabolic", "powerseries" or "lvhaack".
            "length": LENGTH_IN_METERS,
            "material": "MATERIAL",
        },
        "fins": {
            "number": NUMBER_OF_FINS,
            "root_chord": LENGTH_IN_METERS,
            "tip_chord": LENGTH_IN_METERS,
            "span": LENGTH_IN_METERS,
            "cant_angle": ANGLE_IN_DEGREES,
            "material": "MATERIAL",
            "thickness": THICKNESS_IN_METERS,
        },
        "tail": {
            "length": LENGTH_IN_METERS,
            "top_radius": RADIUS_IN_METERS,
            "bottom_radius": RADIUS_IN_METERS,
            "material": "MATERIAL",
        },
    },
    "parachutes": {
        "main": {
            "name": "Main",
            "cd_s": AREA,
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
        "drogue": {
            "name": "Drogue",
            "cd_s": AREA,
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
    },
    "launch": {
        "rail_length": LENGTH_IN_METERS, 
        "inclination": ANGLE_IN_DEGREES, #90 is vertical launch
        "heading": ANGLE_IN_DEGREES, # Heading in degrees 0 is up
    },
    "payload": { #point mass as position specified 
        "mass": MASS_IN_KG,
        "position": POSITION_IN_METERS,  # relative to rocket center
    },
}
```


Here's an example valid design. This is not at all indicative of what you should do just an example:

```python
config = {
    "motor_choice": "CesaroniO5800",
    "rocket_body": {
        "radius": 0.1,  # Body radius in meters
        "length": 1.2,    # Body length in meters
        "material": "fiberglass",
        "thickness": 0.01,  # Wall thickness in meters
    },
    "aerodynamics": {
        "nose_cone": {
            "kind": "ogive",
            "length": 0.3,  # Nose cone length in meters
            "material": "composite",
        },
        "fins": {
            "number": 4,
            "root_chord": 0.15,  # Fin root chord in meters
            "tip_chord": 0.075,  # Fin tip chord in meters
            "span": 0.3,         # Fin span in meters
            "cant_angle": 0.5,   # Cant angle in degrees
            "material": "carbon_fiber",
            "thickness": 0.005   # Fin thickness in meters
        },
        "tail": {
            "length": 1.2,  # Tail length in meters
            "top_radius": 0.04,  # Top radius in meters
            "bottom_radius": 0.05,  # Bottom radius in meters
            "material": "carbon_fiber",
        },
    },
    "parachutes": {
        "main": {
            "name": "Main",
            "cd_s": 0.25,  # Main parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
        "drogue": {
            "name": "Drogue",
            "cd_s": 0.2,  # Drogue parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
    },
    "launch": {
        "rail_length": 1.2,  # Length of the launch rail in meters
        "inclination": 90,   # Rail inclination in degrees (vertical)
        "heading": 0,        # Launch heading in degrees (straight up)
    },
    "payload": {
        "mass": 0.5,  # Payload mass in kg
        "position": 0.6  # Payload position relative to rocket center in meters
    }
}
```
Before answering you should provide your full reasoning for the design choices you made thinking like a rocket scientist. Run sample calulations, make approximations etc to find best design



=== PREVIOUS ATTEMPTS ===

--- ATTEMPT 1 ---
Design:
In designing the rocket, we need to ensure it meets several key requirements: it must reach a target apogee, land close to specified coordinates, handle wind conditions, maintain safety during landing, and be cost-effective. 

### 1. Motor Selection
Given the available motors, a suitable choice is the **CesaroniM1670**. This motor has:
- Max thrust: 2200 N
- Avg thrust: 1533.9 N
- Total impulse: 6023.6 Ns
- Isp: 198 s

#### Rationale:
The total impulse is adequate for achieving the desired apogee, while the thrust capabilities allow for good control during ascent and descent.

### 2. Rocket Body
To start, we need to calculate the required body dimensions. It has to accommodate the motor, provide structural integrity, and ensure aerodynamic efficiency.

#### Body Dimensions:
- Radius: 0.085 m (85 mm) - This is greater than the motor's radius (75 mm).
- Length: 1.0 m
- Material: **fiberglass**
- Wall thickness: 0.005 m 

#### Rationale:
Fiberglass provides a good balance between weight and structural integrity, which is essential for the flight.

### 3. Nose Cone
For the nose cone, an ogive shape is optimal for reducing drag during ascent.

#### Nose Cone Dimensions:
- Kind: **ogive**
- Length: 0.3 m
- Material: **fiberglass**

#### Rationale:
An ogive shape minimizes drag and allows for favorable aerodynamic profiles.

### 4. Fin Design
Stability can be enhanced by using four fins.

#### Fin Dimensions:
- Number: 4
- Root chord: 0.15 m
- Tip chord: 0.075 m
- Span: 0.5 m
- Cant angle: 0.0° (no cant)
- Material: **carbon_fiber**
- Thickness: 0.005 m

#### Rationale:
This fin configuration achieves stability while minimizing drag, and carbon fiber offers excellent strength with minimal weight.

### 5. Parachute Specifications
We will include a main parachute that deploys at apogee and optionally a drogue chute for added safety.

#### Parachute Specifications:
- Main parachute:
  - Name: **Main**
  - Cd_s: 0.15 m² (approximate for a medium-sized parachute)
  - Trigger: **apogee**
  - Sampling rate: 105
  - Lag: 1.5
  - Noise: (0, 8.3, 0.5)

- Drogue parachute:
  - Name: **Drogue**
  - Cd_s: 0.05 m² (smaller for rapid descent)
  - Trigger: **apogee**
  - Sampling rate: 105
  - Lag: 1.5
  - Noise: (0, 8.3, 0.5)

### 6. Launch Rail Configuration
The launch rail will be configured vertically.

#### Launch Configuration:
- Rail length: 3.0 m 
- Inclination: 90° 
- Heading: 0°

### 7. Payload
For payload specifications, a reasonable mass can be 1.0 kg, placed at the center for stability.

### Complete Configuration
After careful consideration, here is the full rocket config:

```python
config = {
    "motor_choice": "CesaroniM1670",
    "rocket_body": {
        "radius": 0.085,  # Body radius in meters
        "length": 1.0,    # Body length in meters
        "material": "fiberglass",
        "thickness": 0.005,  # Wall thickness in meters
    },
    "aerodynamics": {
        "nose_cone": {
            "kind": "ogive",
            "length": 0.3,  # Nose cone length in meters
            "material": "fiberglass",
        },
        "fins": {
            "number": 4,
            "root_chord": 0.15,  # Fin root chord in meters
            "tip_chord": 0.075,  # Fin tip chord in meters
            "span": 0.5,         # Fin span in meters
            "cant_angle": 0.0,   # Cant angle in degrees
            "material": "carbon_fiber",
            "thickness": 0.005   # Fin thickness in meters
        },
        "tail": {
            "length": 0.3,  # Tail length in meters
            "top_radius": 0.1,  # Top radius in meters
            "bottom_radius": 0.085,  # Bottom radius in meters
            "material": "carbon_fiber",
        },
    },
    "parachutes": {
        "main": {
            "name": "Main",
            "cd_s": 0.15,  # Main parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
        "drogue": {
            "name": "Drogue",
            "cd_s": 0.05,  # Drogue parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
    },
    "launch": {
        "rail_length": 3.0,  # Length of the launch rail in meters
        "inclination": 90,   # Rail inclination in degrees (vertical)
        "heading": 0,        # Launch heading in degrees (straight up)
    },
    "payload": {
        "mass": 1.0,  # Payload mass in kg
        "position": 0.5  # Payload position relative to rocket center in meters
    }
}
```

### Summary of Design Choices
The choices made were based on maximizing structural effectiveness while considering weight and cost implications. The materials and configurations are designed for both performance during launch and safety upon descent, ensuring that the rocket complies with all outlined requirements and has a good likelihood of scoring well based on the provided criteria.
Score: 0.00/100

--- ATTEMPT 2 ---
Design:
To design an improved rocket based on the specified requirements and the need to achieve optimal landing accuracy, we will analyze and adjust the rocket's components accordingly.

### Key Constraints and Factors

1. **Target Landing Position**: (3000.0 m East, 5000.0 m North)
2. **Wind Conditions**: 20 m/s from the East (considered in our calculations for stability)
3. **Apogee Needs**: The rocket must reach a target apogee specific to ensure it has sufficient altitude for a controlled descent.
4. **Cost**: We need to ensure that the total cost of the rocket remains efficient.
5. **Safety**: The rocket must land safely below 5 m/s.

We will ensure each design choice addresses these factors, balancing performance, stability, and safety.

### 1. Motor Selection

**Motor Choice**: **CesaroniM1670**

- **Parameters**:
  - Max Thrust: 2200 N
  - Average Thrust: 1533.9 N
  - Total Impulse: 6023.6 Ns
  - Isp: 198 s

**Rationale**: This motor provides a robust thrust-to-weight ratio capable of reaching a moderate apogee while also having good control over thrust, which is essential for mitigating effects of the wind at the descent phase.

### 2. Rocket Body Dimensions and Material

**Body Dimensions**:
- **Radius**: 0.09 m (90 mm) - This is greater than the motor's radius (75 mm).
- **Length**: 1.2 m
- **Material**: **fiber glass**
- **Thickness**: 0.005 m

**Rationale**: The increased body radius enhances stability and reduces drag, while fiberglass provides excellent structural integrity.

### 3. Nose Cone Dimensions and Material

**Nose Cone**:
- **Kind**: **ogive**
- **Length**: 0.4 m
- **Material**: **composite**

**Rationale**: An ogive shape is aerodynamic and helps optimize ascent while limiting drag during the descent phase. The length assists in mitigating drag under varying wind conditions.

### 4. Fin Design and Material

**Fin Design**:
- **Number**: 4
- **Root Chord**: 0.15 m
- **Tip Chord**: 0.075 m
- **Span**: 0.4 m
- **Cant Angle**: 0.0° (no cant)
- **Material**: **carbon_fiber**
- **Thickness**: 0.005 m

**Rationale**: This configuration ensures stability throughout flight phases while maintaining a lightweight structure due to carbon fiber properties.

### 5. Parachute Specifications

**Parachute Specifications**:
- **Main**:
  - **Cd_s**: 0.25 m² (to provide sufficient drag for optimal descent control)
  - **Trigger**: **apogee**
  - **Sampling Rate**: 105
  - **Lag**: 1.5
  - **Noise**: (0, 8.3, 0.5)

- **Drogue**:
  - **Cd_s**: 0.15 m² (smaller to initiate descent protection)
  - **Trigger**: **apogee**
  - **Sampling Rate**: 105
  - **Lag**: 1.5
  - **Noise**: (0, 8.3, 0.5)

**Rationale**: This parachute design maximizes descent safety and landing accuracy, compensating for wind effects by allowing for gradual velocity reduction.

### 6. Launch Rail Configuration

**Launch Configuration**:
- **Rail Length**: 2.5 m 
- **Inclination**: 90° 
- **Heading**: 0° (Directly upward)

**Rationale**: A vertical launch minimizes wind disturbances at launch, allowing for a stable ascent trajectory.

### 7. Payload Specifications

**Payload Specifications**:
- **Mass**: 0.5 kg 
- **Position**: 0.6 m (relative to rocket center)

**Rationale**: Lightweight payload ensures minimum impact to thrust requirements while keeping the center of mass favorable for stability.

### Complete Configuration

The final design configuration is as follows:

```python
config = {
    "motor_choice": "CesaroniM1670",
    "rocket_body": {
        "radius": 0.09,  # Body radius in meters
        "length": 1.2,    # Body length in meters
        "material": "fiberglass",
        "thickness": 0.005,  # Wall thickness in meters
    },
    "aerodynamics": {
        "nose_cone": {
            "kind": "ogive",
            "length": 0.4,  # Nose cone length in meters
            "material": "composite",
        },
        "fins": {
            "number": 4,
            "root_chord": 0.15,  # Fin root chord in meters
            "tip_chord": 0.075,  # Fin tip chord in meters
            "span": 0.4,         # Fin span in meters
            "cant_angle": 0.0,   # Cant angle in degrees
            "material": "carbon_fiber",
            "thickness": 0.005   # Fin thickness in meters
        },
        "tail": {
            "length": 0.3,  # Tail length in meters
            "top_radius": 0.1,  # Top radius in meters
            "bottom_radius": 0.09,  # Bottom radius in meters
            "material": "carbon_fiber",
        },
    },
    "parachutes": {
        "main": {
            "name": "Main",
            "cd_s": 0.25,  # Main parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
        "drogue": {
            "name": "Drogue",
            "cd_s": 0.15,  # Drogue parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
    },
    "launch": {
        "rail_length": 2.5,  # Length of the launch rail in meters
        "inclination": 90,   # Rail inclination in degrees (vertical)
        "heading": 0,        # Launch heading in degrees (straight up)
    },
    "payload": {
        "mass": 0.5,  # Payload mass in kg
        "position": 0.6  # Payload position relative to rocket center in meters
    }
}
```

### Summary of Design Choices

This design focuses on achieving balance between thrust, structural integrity, aerodynamics, and safety. The selected motor provides sufficient impulse to reach and stabilize at a target apogee. The use of advanced materials and parachute specifications ensures a controlled landing, optimizing for wind conditions while remaining cost-effective. With these adjustments, the rocket is not only designed to meet the landing requirements at (3000.0m, 5000.0m) but also perform effectively across all provided parameters.
Score: 0.00/100


Based on previous attempts, please provide an improved rocket design that will precisely land at the target coordinates (3000.0m, 5000.0m).