# Rocket Design Task

## Design Requirements

- **Target Apogee**: 3048.0 meters
- **Wind Conditions**: 5 m/s from E direction

## You are scored off the following
Distance to max apogee
Cost: Cheaper the rocket the better the score
Does it land safely (less than 5 m/s)
Does it not break
Horz distance: How far is it from the intial launch site

#Score func code shown below:
structural_failure = None  # Whether the rocket structure failed during flight
structural_failure_reward = 0

if structural_failure is not None:
    if structural_failure:
        structural_failure_reward = 0
    else:
        # Structural failure did not occur
        structural_failure_reward = 1

# Calculate horizontal distance reward
# Lower horizontal distance from launch site is better
horz_distance = abs(horizontal_distance)  # Distance in meters from launch site
max_horz_distance = target_apogee * 0.3  # Maximum acceptable horizontal distance
horz_distance_reward = max(0, 1 - horz_distance / max_horz_distance)

# Calculate cost reward
# Lower cost designs receive higher rewards
cost = total_cost  # Total cost of rocket components
max_cost = 1000  # Maximum cost threshold
cost_reward = max(0, 1 - cost / max_cost)

# Calculate landing impact velocity reward
# Lower impact velocity (safer landing) is better
impact_velocity = abs(impact_velocity)  # Landing speed in m/s
max_impact_velocity = 50  # Maximum acceptable impact velocity
impact_reward = max(0, 1 - impact_velocity / max_impact_velocity)

percent_difference = abs(apogee - target_apogee) / target_apogee
distance_reward = 1.0 - percent_difference
distance_reward = max(0, distance_reward)


# Calculate total reward with component weights
reward = distance_reward + horz_distance_reward * 0.2 + cost_reward * 0.3 + impact_reward * 0.3 + structural_failure_reward * 0.2




## Available Materials

The following materials are available for the rocket components:
aluminum, composite, fiberglass, carbon_fiber, balsa_wood, plywood, ABS_plastic

## Available Motors

Name,Manufacturer,Radius (mm),Length (mm),Dry Mass (kg),Max Thrust (N),Avg Thrust (N),Burn Time (s),Total Impulse (Ns),Isp (s)
Pro75M1670,CTI,75,757,1.815,2200,1533.9,3.9,6023.6,198
AeroTechK700W,AT,54,568,0.732,1029.3,658.7,3.5,2249,177.5
CesaroniM1670,CTI,75,757,3.101,2200,1533.9,3.6,6023.6,198
AeroTechH128W,AT,29,194,0.108,190.5,141.2,1.29,176.5,191.3
CesaroniO3700,CTI,161,957,14.194,4030.3,2836.9,8.2,29930.2,177.8
CesaroniO5800,CTI,150,754,12.418,6395.5,5040.2,5.2,30382.7,222
CesaroniK160,CTI,54,404,0.7,272.2,190.2,9.7,1521.7,182.9

## Design Task

Based on the requirements and available components, design a rocket that will reach the target apogee. Your design should include:

1. Motor selection (choose from the available motors list)
2. Body dimensions and material
3. Nose cone dimensions and material
4. Fin design and material
5. Parachute specifications
6. Launch rail configuration


### Notes
DRC are run on the design so you need to make sure the design is feasible.
Here are some of the checks:
Notes for the tail the top and bottom radius cannot be the same (causes error)
The material must be specified exactly as listed above
The body radius must be greater than the motor radius
Nose cone but by exactly one of the listed 
Don't include any additional python code (other than config. Putting calculation in there is ok like 32/4 but not whole functions

## Response Format

Please provide your design as a Python dictionary that can be directly used in our simulation software. Use the following format:

```python
config = {
    "motor_choice": "MOTOR_NAME",  # Choose from available motors
    "rocket_body": {
        "radius": RADIUS_IN_METERS,  # Body radius in meters (must be greater than motor Radius)
        "length": LENGTH_IN_METERS,  # Body length in meters
        "material": "MATERIAL",  # Choose from available materials
        "thickness": THICKNESS_IN_METERS,  # Wall thickness in meters
    },
    "aerodynamics": {
        "nose_cone": {
            "kind": "SHAPE",  # "conical", "ogive", "elliptical", "tangent", "von karman", "parabolic", "powerseries" or "lvhaack".
            "length": LENGTH_IN_METERS,
            "material": "MATERIAL",
        },
        "fins": {
            "number": NUMBER_OF_FINS,
            "root_chord": LENGTH_IN_METERS,
            "tip_chord": LENGTH_IN_METERS,
            "span": LENGTH_IN_METERS,
            "cant_angle": ANGLE_IN_DEGREES,
            "material": "MATERIAL",
            "thickness": THICKNESS_IN_METERS,
        },
        "tail": {
            "length": LENGTH_IN_METERS,
            "top_radius": RADIUS_IN_METERS,
            "bottom_radius": RADIUS_IN_METERS,
            "material": "MATERIAL",
        },
    },
    "parachutes": {
        "main": {
            "name": "Main",
            "cd_s": AREA,
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
        "drogue": {
            "name": "Drogue",
            "cd_s": AREA,
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
    },
    "launch": {
        "rail_length": LENGTH_IN_METERS, 
        "inclination": ANGLE_IN_DEGREES, #90 is vertical launch
        "heading": ANGLE_IN_DEGREES, # Heading in degrees 0 is up
    },
    "payload": { #point mass as position specified 
        "mass": MASS_IN_KG,
        "position": POSITION_IN_METERS,  # relative to rocket center
    },
}
```


Here's an example valid design. This is not at all indicative of what you should do just an example:

```python
config = {
    "motor_choice": "CesaroniO5800",
    "rocket_body": {
        "radius": 0.1,  # Body radius in meters
        "length": 1.2,    # Body length in meters
        "material": "fiberglass",
        "thickness": 0.01,  # Wall thickness in meters
    },
    "aerodynamics": {
        "nose_cone": {
            "kind": "ogive",
            "length": 0.3,  # Nose cone length in meters
            "material": "composite",
        },
        "fins": {
            "number": 4,
            "root_chord": 0.15,  # Fin root chord in meters
            "tip_chord": 0.075,  # Fin tip chord in meters
            "span": 0.3,         # Fin span in meters
            "cant_angle": 0.5,   # Cant angle in degrees
            "material": "carbon_fiber",
            "thickness": 0.005   # Fin thickness in meters
        },
        "tail": {
            "length": 1.2,  # Tail length in meters
            "top_radius": 0.04,  # Top radius in meters
            "bottom_radius": 0.05,  # Bottom radius in meters
            "material": "carbon_fiber",
        },
    },
    "parachutes": {
        "main": {
            "name": "Main",
            "cd_s": 0.25,  # Main parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
        "drogue": {
            "name": "Drogue",
            "cd_s": 0.2,  # Drogue parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
    },
    "launch": {
        "rail_length": 1.2,  # Length of the launch rail in meters
        "inclination": 90,   # Rail inclination in degrees (vertical)
        "heading": 0,        # Launch heading in degrees (straight up)
    },
    "payload": {
        "mass": 0.5,  # Payload mass in kg
        "position": 0.6  # Payload position relative to rocket center in meters
    }
}
```
Before answering you should provide your full reasoning for the design choices you made thinking like a rocket scientist. Run sample calulations, make approximations etc to find best design



=== PREVIOUS ATTEMPTS ===

--- ATTEMPT 1 ---
Design:
### **Rocket Design Reasoning**

Designing a rocket to achieve a target apogee of **3048.0 meters (10,000 feet)** involves careful consideration of various factors, including motor selection, structural integrity, aerodynamics, payload capacity, and cost-effectiveness. Below is a step-by-step reasoning for each component of the rocket design based on the provided requirements and available materials.

---

#### **1. Motor Selection**

**Objective:** Choose a motor that provides sufficient thrust and total impulse to achieve the desired apogee while minimizing cost.

**Available Motors:**
| Name             | Manufacturer | Radius (mm) | Length (mm) | Dry Mass (kg) | Max Thrust (N) | Avg Thrust (N) | Burn Time (s) | Total Impulse (Ns) | Isp (s) |
|------------------|--------------|-------------|-------------|---------------|----------------|----------------|---------------|--------------------|---------|
| Pro75M1670       | CTI          | 75          | 757         | 1.815         | 2200           | 1533.9         | 3.9           | 6023.6             | 198     |
| AeroTechK700W    | AT           | 54          | 568         | 0.732         | 1029.3         | 658.7          | 3.5           | 2249               | 177.5   |
| CesaroniM1670    | CTI          | 75          | 757         | 3.101         | 2200           | 1533.9         | 3.6           | 6023.6             | 198     |
| AeroTechH128W    | AT           | 29          | 194         | 0.108         | 190.5          | 141.2          | 1.29          | 176.5              | 191.3   |
| CesaroniO3700    | CTI          | 161         | 957         | 14.194        | 4030.3         | 2836.9         | 8.2           | 29930.2            | 177.8   |
| CesaroniO5800    | CTI          | 150         | 754         | 12.418        | 6395.5         | 5040.2         | 5.2           | 30382.7            | 222     |
| CesaroniK160     | CTI          | 54          | 404         | 0.7           | 272.2          | 190.2          | 9.7           | 1521.7             | 182.9   |

**Analysis:**
- **Total Impulse (I):** To reach an apogee (h) of 3048 meters, the required velocity (V) can be approximated using the kinematic equation:
  
  \[
  V = \sqrt{2gh} = \sqrt{2 \times 9.81 \times 3048} \approx 244 \, \text{m/s}
  \]
  
- **Mass Consideration:** Assuming a rocket mass (m) of approximately **5 kg** (including the motor, structure, payload, and parachutes), the total impulse required is:
  
  \[
  I = m \times V = 5 \times 244 \approx 1220 \, \text{Ns}
  \]
  
- **Motor Choice:** 
  - **CesaroniK160** offers a total impulse of **1521.7 Ns**, which exceeds the minimum requirement, providing a safety margin.
  - It has a relatively low cost compared to larger motors like **CesaroniO5800** or **CesaroniO3700**, aligning with the cost-effective design goal.
  
**Selected Motor:** **CesaroniK160**

---

#### **2. Rocket Body Design**

**Specifications:**
- **Motor Radius:** 54 mm (0.054 m)
- **Body Radius:** Must be greater than 0.054 m. Choosing **0.07 m** for structural integrity and to accommodate internal components.
- **Body Length:** **1.2 meters** provides ample space for the motor, payload, and structural components.
- **Material:** **Composite** is selected for its balance between strength and weight. It is also cost-effective compared to carbon fiber.

**Calculations:**
- **Volume and Mass Estimation:**
  - **Wall Thickness:** 5 mm (0.005 m) ensures structural robustness without excessive weight.
  - Assuming a cylindrical shape:
    
    \[
    \text{Volume} = \pi \times \text{radius}^2 \times \text{length} \approx 3.1416 \times (0.07)^2 \times 1.2 \approx 0.0186 \, \text{m}^3
    \]
    
  - **Mass:** Composite materials typically have densities around 1600 kg/m³.
    
    \[
    \text{Mass} = 1600 \times 0.0186 \approx 29.76 \, \text{kg}
    \]
    
  - **Optimization:** To reduce mass, reducing length or thickness can be considered, but **1.2 meters** ensures stability.

---

#### **3. Nose Cone Design**

**Specifications:**
- **Shape:** **Ogive** for optimal aerodynamic performance.
- **Length:** **0.3 meters** to streamline airflow and reduce drag.
- **Material:** **Composite** to match the body material, ensuring structural consistency.

**Rationale:**
- An ogive nose cone minimizes aerodynamic drag, contributing to higher apogee and stability during flight.

---

#### **4. Fin Design**

**Specifications:**
- **Number of Fins:** **4** for enhanced stability.
- **Root Chord:** **0.15 meters**
- **Tip Chord:** **0.07 meters** to taper the fins, reducing drag.
- **Span:** **0.3 meters**
- **Cant Angle:** **0 degrees** (no canting) to maintain symmetrical aerodynamics.
- **Material:** **Balsa Wood** for lightweight and ease of manufacturing.
- **Thickness:** **5 mm (0.005 m)** ensures strength without adding unnecessary weight.

**Rationale:**
- Four fins provide sufficient stability without excessive complexity.
- Tapered fins reduce drag while maintaining structural integrity.

---

#### **5. Tail Design**

**Specifications:**
- **Length:** **0.2 meters**
- **Top Radius:** **0.04 meters**
- **Bottom Radius:** **0.05 meters** (different from top radius to comply with design constraints)
- **Material:** **Carbon Fiber** for enhanced strength and lightweight properties.

**Rationale:**
- The tapered tail enhances aerodynamic stability and prevents oscillations during flight.
- Using carbon fiber ensures the tail can withstand aerodynamic forces without adding significant weight.

---

#### **6. Parachute Specifications**

**Main Parachute:**
- **CD_s (Drag Coefficient × Surface Area):** **0.25**
- **Trigger:** **Apogee**
- **Sampling Rate:** **105 Hz**
- **Lag:** **1.5 seconds**
- **Noise:** **(0, 8.3, 0.5)**

**Drogue Parachute:**
- **CD_s:** **0.2**
- **Trigger:** **Apogee**
- **Sampling Rate:** **105 Hz**
- **Lag:** **1.5 seconds**
- **Noise:** **(0, 8.3, 0.5)**

**Rationale:**
- Dual parachutes ensure a safe and controlled landing.
- The main parachute deploys at apogee, while the drogues provide additional stabilization during descent.

---

#### **7. Launch Rail Configuration**

**Specifications:**
- **Rail Length:** **2.0 meters**
- **Inclination:** **90 degrees** (vertical launch)
- **Heading:** **0 degrees** (aligned with the wind direction)

**Rationale:**
- A 2-meter rail provides sufficient guidance during the initial phase of the launch.
- Vertical inclination maximizes vertical thrust, compensating for horizontal wind effects.

---

#### **8. Payload Specifications**

**Specifications:**
- **Mass:** **0.5 kg**
- **Position:** **0.6 meters** above the rocket center to maintain balance.

**Rationale:**
- A lightweight payload ensures that the motor's thrust is effectively utilized for achieving the desired apogee.
- Proper payload placement maintains the rocket's center of gravity, enhancing stability.

---

### **Final Rocket Configuration**

Based on the above reasoning and calculations, the following Python dictionary represents the optimized rocket design:

```python
config = {
    "motor_choice": "CesaroniK160",  # Selected motor with sufficient impulse
    "rocket_body": {
        "radius": 0.07,  # Body radius in meters (70 mm > 54 mm motor radius)
        "length": 1.2,    # Body length in meters
        "material": "composite",
        "thickness": 0.005,  # Wall thickness in meters (5 mm)
    },
    "aerodynamics": {
        "nose_cone": {
            "kind": "ogive",
            "length": 0.3,  # Nose cone length in meters
            "material": "composite",
        },
        "fins": {
            "number": 4,
            "root_chord": 0.15,  # Fin root chord in meters
            "tip_chord": 0.07,   # Fin tip chord in meters
            "span": 0.3,         # Fin span in meters
            "cant_angle": 0,     # Cant angle in degrees
            "material": "balsa_wood",
            "thickness": 0.005,  # Fin thickness in meters (5 mm)
        },
        "tail": {
            "length": 0.2,          # Tail length in meters
            "top_radius": 0.04,     # Top radius in meters
            "bottom_radius": 0.05,  # Bottom radius in meters (different from top radius)
            "material": "carbon_fiber",
        },
    },
    "parachutes": {
        "main": {
            "name": "Main",
            "cd_s": 0.25,  # Main parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
        "drogue": {
            "name": "Drogue",
            "cd_s": 0.2,  # Drogue parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
    },
    "launch": {
        "rail_length": 2.0,   # Length of the launch rail in meters
        "inclination": 90,    # Rail inclination in degrees (vertical)
        "heading": 0,         # Launch heading in degrees (aligned with wind direction)
    },
    "payload": {
        "mass": 0.5,           # Payload mass in kg
        "position": 0.6,      # Payload position relative to rocket center in meters
    },
}
```

---

### **Design Validation and Considerations**

- **Apogee Achievement:** With the **CesaroniK160** motor providing **1521.7 Ns** and an estimated rocket mass of **5 kg**, the expected velocity (\( V = \frac{I}{m} = \frac{1521.7}{5} \approx 304.34 \, \text{m/s} \)) is sufficient to surpass the required apogee of **3048 meters** (\( V \approx 244 \, \text{m/s} \)).

- **Structural Integrity:** Using **composite** for the body and nose cone, along with **carbon fiber** for the tail and **balsa wood** for fins, ensures a lightweight yet robust structure capable of withstanding aerodynamic stresses.

- **Safe Landing:** The dual parachute system with appropriately calculated **CD_s** values ensures a controlled descent, aiming for an impact velocity well below **5 m/s**.

- **Cost Efficiency:** Selecting the **CesaroniK160** motor balances total impulse needs with cost. Utilizing materials like **composite** and **balsa wood** also contributes to a cost-effective design.

- **Horizontal Distance Minimization:** A vertical launch configuration minimizes horizontal distance from the initial launch site, adhering to the scoring criteria.

---

This design prioritizes achieving the target apogee while ensuring structural integrity, safe landing, and cost-effectiveness. The chosen components and configurations are optimized based on the provided requirements and available materials.
Score: 2.98/100
Target Apogee: 3048.0m, Actual: 271.83m, Error: 91.08%
Structural integrity: PASSED
Cost: $281.60

--- ATTEMPT 2 ---
Design:
### **Rocket Design Reasoning**

Designing a rocket to achieve a target apogee of **3048.0 meters (10,000 feet)** requires meticulous planning and optimization across various components. The primary objectives are to ensure sufficient thrust, minimize mass, maintain structural integrity, and adhere to cost constraints. Below is a comprehensive reasoning for each aspect of the rocket design, incorporating calculations and material considerations to meet and exceed the target requirements.

---

#### **1. Motor Selection**

**Objective:** Select a motor that provides adequate total impulse to achieve the desired apogee while maintaining a lightweight and cost-effective design.

**Available Motors:**
| Name             | Manufacturer | Radius (mm) | Length (mm) | Dry Mass (kg) | Max Thrust (N) | Avg Thrust (N) | Burn Time (s) | Total Impulse (Ns) | Isp (s) |
|------------------|--------------|-------------|-------------|---------------|----------------|----------------|---------------|--------------------|---------|
| Pro75M1670       | CTI          | 75          | 757         | 1.815         | 2200           | 1533.9         | 3.9           | 6023.6             | 198     |
| AeroTechK700W    | AT           | 54          | 568         | 0.732         | 1029.3         | 658.7          | 3.5           | 2249               | 177.5   |
| CesaroniM1670    | CTI          | 75          | 757         | 3.101         | 2200           | 1533.9         | 3.6           | 6023.6             | 198     |
| AeroTechH128W    | AT           | 29          | 194         | 0.108         | 190.5          | 141.2          | 1.29          | 176.5              | 191.3   |
| CesaroniO3700    | CTI          | 161         | 957         | 14.194        | 4030.3         | 2836.9         | 8.2           | 29930.2            | 177.8   |
| CesaroniO5800    | CTI          | 150         | 754         | 12.418        | 6395.5         | 5040.2         | 5.2           | 30382.7            | 222     |
| CesaroniK160     | CTI          | 54          | 404         | 0.7           | 272.2          | 190.2          | 9.7           | 1521.7             | 182.9   |

**Calculation & Analysis:**

To achieve an apogee of 3048 meters, a preliminary estimation of the required velocity (\( V \)) can be derived using the kinematic equation:

\[
V = \sqrt{2gh} = \sqrt{2 \times 9.81 \times 3048} \approx 244 \, \text{m/s}
\]

Assuming a **total mass (\( m \))** of **1 kg** (including motor, structure, payload, and parachutes), the **total impulse (\( I \))** required is:

\[
I = m \times V + m \times g \times t_{\text{burn}}
\]

Where \( t_{\text{burn}} \) is the motor's burn time.

For the **CesaroniK160**:
- **Total Impulse (I):** 1521.7 Ns
- **Burn Time (t):** 9.7 s

\[
I = 1 \times 244 + 1 \times 9.81 \times 9.7 \approx 244 + 95.3 \approx 339.3 \, \text{Ns}
\]

**Conclusion:** The **CesaroniK160** motor provides **1521.7 Ns**, which comfortably exceeds the required **339.3 Ns**, offering a substantial safety margin. Additionally, it has a favorable burn time and thrust profile suitable for achieving the desired apogee without unnecessary excess, ensuring cost-effectiveness.

**Selected Motor:** **CesaroniK160**

---

#### **2. Rocket Body Design**

**Specifications:**
- **Motor Radius:** 54 mm (0.054 m)
- **Body Radius:** Must be greater than 0.054 m. Choosing **0.06 m** for minimal diameter while accommodating internal components.
- **Body Length:** **1.0 meters** to reduce mass while providing sufficient space for the motor and payload.
- **Material:** **Carbon Fiber** for its superior strength-to-weight ratio, ensuring a lightweight yet robust structure.

**Calculations:**
- **Volume Estimation:**
  
  Assuming a cylindrical shape:
  
  \[
  \text{Volume} = \pi \times \text{radius}^2 \times \text{length} = 3.1416 \times (0.06)^2 \times 1.0 \approx 0.0113 \, \text{m}^3
  \]
  
- **Mass Estimation:**
  
  Carbon fiber typically has a density of around 1600 kg/m³.
  
  \[
  \text{Mass} = 1600 \times 0.0113 \approx 18.08 \, \text{kg}
  \]
  
  **Optimization:** To minimize mass while maintaining structural integrity:
  - **Wall Thickness:** Reduce to **2 mm (0.002 m)**
  
  Recalculating mass:
  
  \[
  \text{Volume} = 2 \times \pi \times \text{radius} \times \text{thickness} \times \text{length} = 2 \times 3.1416 \times 0.06 \times 0.002 \times 1.0 \approx 0.00075 \, \text{m}^3
  \]
  
  \[
  \text{Mass} = 1600 \times 0.00075 \approx 1.2 \, \text{kg}
  \]
  
**Final Specifications:**
- **Radius:** 0.06 m
- **Length:** 1.0 m
- **Material:** Carbon Fiber
- **Thickness:** 0.002 m

---

#### **3. Nose Cone Design**

**Specifications:**
- **Shape:** **Conical** for simplicity and ease of manufacturing.
- **Length:** **0.2 meters** to minimize drag while providing aerodynamic efficiency.
- **Material:** **ABS Plastic** for lightweight construction and durability.

**Rationale:**
- A conical nose cone ensures straightforward manufacturing and effective aerodynamics. Using ABS plastic maintains a low mass, contributing to the overall efficiency of the rocket.

---

#### **4. Fin Design**

**Specifications:**
- **Number of Fins:** **3** to balance stability with aerodynamic efficiency.
- **Root Chord:** **0.1 meters**
- **Tip Chord:** **0.05 meters** to streamline airflow.
- **Span:** **0.15 meters**
- **Cant Angle:** **0 degrees** (no canting) to maintain symmetrical aerodynamics.
- **Material:** **Balsa Wood** for its lightweight properties and ease of shaping.
- **Thickness:** **0.003 meters (3 mm)** to ensure strength without adding significant weight.

**Rationale:**
- Three fins provide adequate stability without excessive drag. Balsa wood offers an optimal balance between weight and structural integrity, essential for achieving the desired apogee.

---

#### **5. Tail Design**

**Specifications:**
- **Length:** **0.15 meters**
- **Top Radius:** **0.025 meters**
- **Bottom Radius:** **0.03 meters** (different from top radius to comply with design constraints)
- **Material:** **Carbon Fiber** to ensure lightweight strength.

**Rationale:**
- The tapered tail enhances aerodynamic stability, reducing potential oscillations during flight. Carbon fiber's lightweight nature ensures the tail does not add unnecessary mass.

---

#### **6. Parachute Specifications**

**Main Parachute:**
- **CD_s (Drag Coefficient × Surface Area):** **0.3**
- **Trigger:** **Apogee**
- **Sampling Rate:** **100 Hz**
- **Lag:** **1.0 seconds**
- **Noise:** **(0, 5.0, 0.3)**

**Drogue Parachute:**
- **CD_s:** **0.25**
- **Trigger:** **Altitude (1500 meters)**
- **Sampling Rate:** **100 Hz**
- **Lag:** **1.0 seconds**
- **Noise:** **(0, 5.0, 0.3)**

**Rationale:**
- Utilizing dual parachutes ensures a controlled and safe descent. The main parachute deploys at apogee to slow the rocket, while the drogue parachute provides additional stabilization during descent.

---

#### **7. Launch Rail Configuration**

**Specifications:**
- **Rail Length:** **1.5 meters**
- **Inclination:** **85 degrees** to slightly counteract the eastward wind.
- **Heading:** **90 degrees** (launch heading towards the north to compensate for wind from the east)

**Rationale:**
- A 1.5-meter rail offers sufficient guidance during launch. Slight inclination accounts for wind conditions, minimizing horizontal displacement and ensuring the rocket remains close to the launch site.

---

#### **8. Payload Specifications**

**Specifications:**
- **Mass:** **0.5 kg**
- **Position:** **0.3 meters** above the rocket center to maintain a favorable center of gravity.

**Rationale:**
- A lightweight payload ensures maximum efficiency of the motor's thrust. Proper placement maintains stability, preventing unwanted rotations or oscillations during flight.

---

### **Mass Budget Summary**

| Component           | Material       | Volume (m³) | Density (kg/m³) | Mass (kg) |
|---------------------|----------------|-------------|------------------|-----------|
| Rocket Body         | Carbon Fiber   | 0.00075     | 1600             | 1.2       |
| Nose Cone           | ABS Plastic    | 0.0005      | 1050             | 0.525     |
| Fins (3)            | Balsa Wood     | 3 * (0.1 * 0.15 * 0.003) ≈ 0.000135 | 1600             | 0.216     |
| Tail                | Carbon Fiber   | 0.0005      | 1600             | 0.8       |
| Parachutes          | Lightweight Fabrics | Negligible | -                | 0.2       |
| Payload             | -              | -           | -                | 0.5       |
| **Total Estimated Mass** |                |             |                  | **3.241 kg** |

**Note:** Additional mass from fasteners, electronics, and other minor components is approximated and included in the total mass estimate.

---

### **Design Validation and Considerations**

- **Apogee Achievement:** With the **CesaroniK160** motor providing **1521.7 Ns** and an estimated rocket mass of **3.241 kg**, the expected velocity (\( V = \frac{I}{m} = \frac{1521.7}{3.241} \approx 469 \, \text{m/s} \)) is more than sufficient to surpass the required apogee of **3048 meters**. This estimation does not account for air resistance; however, the aerodynamic design minimizes drag to ensure efficiency.

- **Structural Integrity:** Utilizing **carbon fiber** and **balsa wood** ensures a lightweight yet robust structure capable of withstanding aerodynamic stresses during ascent and descent.

- **Safe Landing:** The dual parachute system is calibrated to deploy at optimal altitudes, ensuring a controlled and safe descent with impact velocities well below **5 m/s**.

- **Cost Efficiency:** Selecting the **CesaroniK160** motor balances the required impulse with cost considerations. Materials like **carbon fiber** and **ABS plastic** are chosen for their strength-to-weight ratio, contributing to an overall cost-effective design.

- **Horizontal Distance Minimization:** The adjusted launch rail inclination and heading account for wind conditions, significantly reducing horizontal displacement from the initial launch site.

---

### **Final Rocket Configuration**

Based on the above reasoning and calculations, the following Python dictionary represents the optimized rocket design:

```python
config = {
    "motor_choice": "CesaroniK160",  # Selected motor with sufficient impulse
    "rocket_body": {
        "radius": 0.06,  # Body radius in meters (60 mm > 54 mm motor radius)
        "length": 1.0,    # Body length in meters
        "material": "carbon_fiber",
        "thickness": 0.002,  # Wall thickness in meters (2 mm)
    },
    "aerodynamics": {
        "nose_cone": {
            "kind": "conical",
            "length": 0.2,  # Nose cone length in meters
            "material": "ABS_plastic",
        },
        "fins": {
            "number": 3,
            "root_chord": 0.1,  # Fin root chord in meters
            "tip_chord": 0.05,  # Fin tip chord in meters
            "span": 0.15,        # Fin span in meters
            "cant_angle": 0,     # Cant angle in degrees
            "material": "balsa_wood",
            "thickness": 0.003,  # Fin thickness in meters (3 mm)
        },
        "tail": {
            "length": 0.15,       # Tail length in meters
            "top_radius": 0.025,  # Top radius in meters
            "bottom_radius": 0.03,  # Bottom radius in meters (different from top radius)
            "material": "carbon_fiber",
        },
    },
    "parachutes": {
        "main": {
            "name": "Main",
            "cd_s": 0.3,  # Main parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 100,
            "lag": 1.0,
            "noise": (0, 5.0, 0.3),
        },
        "drogue": {
            "name": "Drogue",
            "cd_s": 0.25,  # Drogue parachute CD_s
            "trigger": "altitude",
            "sampling_rate": 100,
            "lag": 1.0,
            "noise": (0, 5.0, 0.3),
        },
    },
    "launch": {
        "rail_length": 1.5,    # Length of the launch rail in meters
        "inclination": 85,     # Rail inclination in degrees
        "heading": 90,         # Launch heading in degrees (northward to counter east wind)
    },
    "payload": {
        "mass": 0.5,            # Payload mass in kg
        "position": 0.3,        # Payload position relative to rocket center in meters
    },
}
```

---

### **Design Validation and Expected Performance**

- **Apogee Achievement:** With the **CesaroniK160** motor providing **1521.7 Ns** and an estimated rocket mass of **3.241 kg**, the projected velocity is approximately **469 m/s**, which exceeds the required velocity to reach **3048 meters**. Even accounting for air resistance, the aerodynamic design ensures efficient ascent.

- **Structural Integrity:** The choice of **carbon fiber** and **balsa wood** ensures that the rocket is both lightweight and robust, capable of withstanding aerodynamic forces during ascent and descent without structural failure.

- **Safe Landing:** The dual parachute system is designed to deploy at optimal moments, ensuring that the landing impact velocity remains below **5 m/s**, thus guaranteeing a safe landing.

- **Cost Efficiency:** The selected motor and materials balance performance with cost, ensuring a budget-friendly design without compromising on quality or safety.

- **Horizontal Distance Minimization:** The adjusted launch rail configuration accounts for wind conditions, effectively minimizing the horizontal distance from the initial launch site and adhering to the scoring criteria.

---

### **Projected Scores**

- **Distance to Max Apogee:** Meets the target apogee of **3048.0 meters** with a projected apogee of **approximately 3100 meters**.
- **Cost:** Estimated to be within the **$500** range, balancing motor and material costs.
- **Safe Landing:** Designed for impact velocities well below **5 m/s**.
- **Structural Integrity:** Passes all structural integrity checks with a robust yet lightweight design.
- **Horizontal Distance:** Launch configuration minimizes horizontal displacement, keeping the rocket within **5 meters** of the launch site.

**Total Projected Score: 95/100**

---

This optimized design significantly improves upon previous attempts by accurately estimating mass, selecting appropriate materials, and ensuring that the motor provides sufficient thrust. The balance between lightweight construction and structural integrity, coupled with aerodynamic efficiency, positions this rocket design to successfully achieve and exceed the target apogee while maintaining safety and cost-effectiveness.
Score: 0.00/100

--- ATTEMPT 3 ---
Design:
### **Rocket Design Reasoning**

Designing a rocket to achieve a target apogee of **3048.0 meters (10,000 feet)** under wind conditions of **5 m/s from the East** requires a meticulous balance between thrust, mass, aerodynamics, structural integrity, and cost-effectiveness. Below is a comprehensive breakdown of the design process, including calculations and material considerations, culminating in an optimized rocket configuration.

---

#### **1. Motor Selection**

**Objective:** Choose a motor that provides sufficient total impulse to achieve the desired apogee while balancing cost and structural requirements.

**Available Motors:**

| Name            | Manufacturer | Radius (mm) | Length (mm) | Dry Mass (kg) | Max Thrust (N) | Avg Thrust (N) | Burn Time (s) | Total Impulse (Ns) | Isp (s) |
|-----------------|--------------|-------------|-------------|---------------|----------------|----------------|---------------|--------------------|---------|
| Pro75M1670      | CTI          | 75          | 757         | 1.815         | 2200           | 1533.9         | 3.9           | 6023.6             | 198     |
| AeroTechK700W   | AT           | 54          | 568         | 0.732         | 1029.3         | 658.7          | 3.5           | 2249               | 177.5   |
| CesaroniM1670   | CTI          | 75          | 757         | 3.101         | 2200           | 1533.9         | 3.6           | 6023.6             | 198     |
| AeroTechH128W   | AT           | 29          | 194         | 0.108         | 190.5          | 141.2          | 1.29          | 176.5              | 191.3   |
| CesaroniO3700   | CTI          | 161         | 957         | 14.194        | 4030.3         | 2836.9         | 8.2           | 29930.2            | 177.8   |
| CesaroniO5800   | CTI          | 150         | 754         | 12.418        | 6395.5         | 5040.2         | 5.2           | 30382.7            | 222     |
| CesaroniK160    | CTI          | 54          | 404         | 0.7           | 272.2          | 190.2          | 9.7           | 1521.7             | 182.9   |

**Analysis:**

- **Target Velocity Calculation:**
  
  Using the basic kinematic equation (neglecting air resistance):
  
  \[
  V = \sqrt{2gh} = \sqrt{2 \times 9.81 \times 3048} \approx 244 \, \text{m/s}
  \]
  
- **Total Impulse Requirement:**
  
  Total impulse (\( I \)) is the product of mass (\( m \)) and velocity (\( V \)):
  
  \[
  I = m \times V
  \]
  
  To determine an appropriate motor, we need to estimate the rocket's total mass.

- **Mass Estimation:**
  
  A balance between motor thrust, structural materials, payload, and parachutes must be achieved. An estimated mass of **5 kg** is reasonable for achieving the desired apogee without excessive structural weight.

  \[
  I = 5 \times 244 = 1220 \, \text{Ns}
  \]
  
- **Motor Selection:**
  
  Among the available motors, the **CesaroniK160** offers a total impulse of **1521.7 Ns**, which provides a sufficient safety margin above the estimated requirement of **1220 Ns**. It also has a favorable burn time of **9.7 seconds**, allowing for stable thrust application.

**Selected Motor:** **CesaroniK160**

---

#### **2. Rocket Body Design**

**Specifications:**

- **Motor Radius:** 54 mm (0.054 m)
- **Body Radius:** Must exceed the motor radius. **0.06 m (60 mm)** is selected to accommodate the motor and internal components.
- **Body Length:** **1.2 meters** to provide ample space for the motor, payload, and structural elements.
- **Material:** **Fiberglass** is chosen for its balance between strength, weight, and cost.
- **Wall Thickness:** **0.003 meters (3 mm)** to ensure structural integrity while keeping mass low.

**Calculations:**

- **Volume Calculation (Cylindrical Shell):**
  
  \[
  \text{Volume} = 2 \times \pi \times r \times t \times L = 2 \times 3.1416 \times 0.06 \times 0.003 \times 1.2 \approx 0.00136 \, \text{m}^3
  \]
  
- **Mass Calculation:**
  
  Assuming fiberglass density of **1850 kg/m³**:
  
  \[
  \text{Mass} = \text{Volume} \times \text{Density} = 0.00136 \times 1850 \approx 2.52 \, \text{kg}
  \]
  
**Rationale:**

- **Fiberglass** offers a lightweight yet strong structure, essential for maintaining the rocket's integrity during ascent and descent.
- **Wall Thickness** of **3 mm** provides a robust shell without adding unnecessary weight.

---

#### **3. Nose Cone Design**

**Specifications:**

- **Shape:** **Ogive** for optimal aerodynamic performance.
- **Length:** **0.3 meters** to streamline airflow and reduce drag.
- **Material:** **Composite** to match the body material, ensuring structural consistency.

**Calculations:**

- **Volume Calculation (Ogive Nose Cone):**
  
  Approximating the ogive as a streamlined surface, the mass contribution is minimal compared to the body. Assume a mass of **0.5 kg** for the nose cone.

**Rationale:**

- An **ogive** nose cone minimizes aerodynamic drag, contributing to a higher apogee and stability during flight.
- Using **composite** ensures that the nose cone maintains structural integrity while keeping the mass low.

---

#### **4. Fin Design**

**Specifications:**

- **Number of Fins:** **4** to enhance stability.
- **Root Chord:** **0.15 meters**
- **Tip Chord:** **0.075 meters** to taper the fins, reducing drag.
- **Span:** **0.3 meters**
- **Cant Angle:** **0 degrees** (no canting) to maintain symmetrical aerodynamics.
- **Material:** **Balsa Wood** for its lightweight properties and ease of manufacturing.
- **Thickness:** **0.005 meters (5 mm)** to ensure strength without adding unnecessary weight.

**Calculations:**

- **Volume per Fin:**
  
  Approximate each fin as a trapezoidal prism.
  
  \[
  \text{Area} = \frac{( \text{Root Chord} + \text{Tip Chord} )}{2} \times \text{Span} = \frac{0.15 + 0.075}{2} \times 0.3 = 0.03375 \, \text{m}^2
  \]
  
  \[
  \text{Volume} = \text{Area} \times \text{Thickness} = 0.03375 \times 0.005 = 0.00016875 \, \text{m}^3
  \]
  
- **Mass per Fin:**
  
  Assuming balsa wood density of **1600 kg/m³**:
  
  \[
  \text{Mass} = \text{Volume} \times \text{Density} = 0.00016875 \times 1600 \approx 0.27 \, \text{kg}
  \]
  
- **Total Fin Mass:**
  
  \[
  4 \times 0.27 = 1.08 \, \text{kg}
  \]
  
**Rationale:**

- **Four fins** provide adequate stability without introducing excessive drag.
- **Balsa Wood** ensures the fins are lightweight yet strong enough to maintain structural integrity during flight.

---

#### **5. Tail Design**

**Specifications:**

- **Length:** **0.2 meters**
- **Top Radius:** **0.04 meters**
- **Bottom Radius:** **0.045 meters** (different from top radius to comply with design constraints)
- **Material:** **Carbon Fiber** for enhanced strength and lightweight properties.

**Calculations:**

- **Volume Calculation (Tapered Tail Cylinder):**
  
  \[
  \text{Volume} = \pi \times \frac{(R_{\text{top}}^2 + R_{\text{bottom}}^2)}{2} \times L = 3.1416 \times \frac{0.04^2 + 0.045^2}{2} \times 0.2 \approx 0.00272 \, \text{m}^3
  \]
  
- **Mass Calculation:**
  
  Assuming carbon fiber density of **1600 kg/m³**:
  
  \[
  \text{Mass} = 0.00272 \times 1600 \approx 4.35 \, \text{kg}
  \]
  
  **Note:** This mass seems high; to optimize, reduce the wall thickness.
  
  - **Wall Thickness:** **0.002 meters (2 mm)**
  
  \[
  \text{Volume} = 2 \times \pi \times r \times t \times L = 2 \times 3.1416 \times 0.04 \times 0.002 \times 0.2 \approx 0.0001005 \, \text{m}^3
  \]
  
  \[
  \text{Mass} = 0.0001005 \times 1600 \approx 0.161 \, \text{kg}
  \]
  
**Rationale:**

- The **tapered tail** enhances aerodynamic stability, reducing potential oscillations during flight.
- **Carbon Fiber** ensures the tail is robust yet lightweight, maintaining overall rocket efficiency.

---

#### **6. Parachute Specifications**

**Main Parachute:**

- **CD_s (Drag Coefficient × Surface Area):** **0.25**
- **Trigger:** **Apogee**
- **Sampling Rate:** **105 Hz**
- **Lag:** **1.5 seconds**
- **Noise:** **(0, 8.3, 0.5)**

**Drogue Parachute:**

- **CD_s:** **0.2**
- **Trigger:** **Apogee**
- **Sampling Rate:** **105 Hz**
- **Lag:** **1.5 seconds**
- **Noise:** **(0, 8.3, 0.5)**

**Rationale:**

- **Dual parachute system** ensures a safe and controlled descent.
- The **main parachute** deploys at apogee to slow the rocket, while the **drogue parachute** provides additional stabilization during descent.

---

#### **7. Launch Rail Configuration**

**Specifications:**

- **Rail Length:** **2.0 meters**
- **Inclination:** **90 degrees** (vertical launch) to minimize horizontal displacement.
- **Heading:** **270 degrees** (facing West) to counteract the East wind, reducing horizontal landing distance.

**Rationale:**

- A **vertical launch** ensures maximum vertical thrust, compensating for the Eastward wind and minimizing horizontal landing distance.
- Aligning the launch heading **Westward** counteracts wind drift, keeping the rocket closer to the launch site.

---

#### **8. Payload Specifications**

**Specifications:**

- **Mass:** **0.5 kg**
- **Position:** **0.6 meters** above the rocket center to maintain balance and a favorable center of gravity.

**Rationale:**

- A **lightweight payload** ensures the motor's thrust is effectively utilized for achieving the desired apogee.
- Proper **payload placement** maintains the rocket's balance, enhancing stability during flight.

---

#### **9. Mass Budget Summary**

| Component           | Material       | Volume (m³) | Density (kg/m³) | Mass (kg) |
|---------------------|----------------|-------------|------------------|-----------|
| Rocket Body         | Fiberglass     | 0.00136     | 1850             | 2.52      |
| Nose Cone           | Composite      | -           | -                | 0.5       |
| Fins (4)            | Balsa Wood     | 0.000675    | 1600             | 1.08      |
| Tail                | Carbon Fiber   | 0.0001005   | 1600             | 0.16      |
| Parachutes          | Lightweight Fabrics | -    | -                | 0.2       |
| Payload             | -              | -           | -                | 0.5       |
| **Total Estimated Mass** |                |             |                  | **4.96 kg** |

**Note:** Additional mass from fasteners, electronics, and other minor components is approximated and included in the total mass estimate.

---

#### **10. Design Validation and Considerations**

- **Apogee Achievement:**
  
  With the **CesaroniK160** motor providing **1521.7 Ns** and an estimated rocket mass of **4.96 kg**, the expected velocity (\( V = \frac{I}{m} = \frac{1521.7}{4.96} \approx 306.7 \, \text{m/s} \)) is sufficient to surpass the required apogee of **3048 meters** (\( V \approx 244 \, \text{m/s} \)). This leaves a safety margin to account for aerodynamic drag and inefficiencies.
  
- **Structural Integrity:**
  
  - **Fiberglass** for the body and **carbon fiber** for the tail ensure a lightweight yet strong structure capable of withstanding aerodynamic stresses.
  - **Balsa Wood** fins provide the necessary stability without adding significant mass.
  
- **Safe Landing:**
  
  The **dual parachute system** with appropriately calculated **CD_s** values ensures a controlled descent, aiming for an impact velocity well below **5 m/s**.
  
- **Cost Efficiency:**
  
  Selecting the **CesaroniK160** motor balances the required impulse with cost considerations. Utilizing materials like **fiberglass** and **balsa wood** contributes to a cost-effective design without compromising on performance or safety.
  
- **Horizontal Distance Minimization:**
  
  The **vertical launch configuration** combined with a **Westward heading** effectively minimizes horizontal displacement from the launch site, adhering to the scoring criteria.

---

### **Final Rocket Configuration**

Based on the above reasoning and calculations, the following Python dictionary represents the optimized rocket design:

```python
config = {
    "motor_choice": "CesaroniK160",  # Selected motor with sufficient impulse
    "rocket_body": {
        "radius": 0.06,  # Body radius in meters (60 mm > 54 mm motor radius)
        "length": 1.2,    # Body length in meters
        "material": "fiberglass",
        "thickness": 0.003,  # Wall thickness in meters (3 mm)
    },
    "aerodynamics": {
        "nose_cone": {
            "kind": "ogive",
            "length": 0.3,  # Nose cone length in meters
            "material": "composite",
        },
        "fins": {
            "number": 4,
            "root_chord": 0.15,  # Fin root chord in meters
            "tip_chord": 0.075,  # Fin tip chord in meters
            "span": 0.3,         # Fin span in meters
            "cant_angle": 0,     # Cant angle in degrees
            "material": "balsa_wood",
            "thickness": 0.005,  # Fin thickness in meters (5 mm)
        },
        "tail": {
            "length": 0.2,          # Tail length in meters
            "top_radius": 0.04,     # Top radius in meters
            "bottom_radius": 0.045,  # Bottom radius in meters (different from top radius)
            "material": "carbon_fiber",
        },
    },
    "parachutes": {
        "main": {
            "name": "Main",
            "cd_s": 0.25,  # Main parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
        "drogue": {
            "name": "Drogue",
            "cd_s": 0.2,  # Drogue parachute CD_s
            "trigger": "apogee",
            "sampling_rate": 105,
            "lag": 1.5,
            "noise": (0, 8.3, 0.5),
        },
    },
    "launch": {
        "rail_length": 2.0,      # Length of the launch rail in meters
        "inclination": 90,       # Rail inclination in degrees (vertical)
        "heading": 270,          # Launch heading in degrees (Westward to counter East wind)
    },
    "payload": {
        "mass": 0.5,              # Payload mass in kg
        "position": 0.6,          # Payload position relative to rocket center in meters
    },
}
```

---

### **Design Validation and Expected Performance**

- **Apogee Achievement:**
  
  With the **CesaroniK160** motor providing **1521.7 Ns** and an estimated rocket mass of **4.96 kg**, the expected velocity is approximately **306.7 m/s**, comfortably exceeding the required velocity to reach **3048 meters**. This accounts for a safety margin to counteract aerodynamic drag and other inefficiencies.

- **Structural Integrity:**
  
  The combination of **fiberglass** for the rocket body, **carbon fiber** for the tail, and **balsa wood** for the fins ensures a robust yet lightweight structure. This setup is capable of withstanding aerodynamic forces during both ascent and descent without structural failure.

- **Safe Landing:**
  
  The **dual parachute system** is calibrated to deploy at apogee, ensuring a controlled and safe descent. The selected **CD_s** values aim to keep the landing impact velocity well below **5 m/s**, guaranteeing a safe landing.

- **Cost Efficiency:**
  
  By selecting the **CesaroniK160** motor and utilizing cost-effective materials like **fiberglass** and **balsa wood**, the design maintains a balance between performance and budget. This ensures a lower overall cost, positively impacting the cost-based scoring metric.

- **Horizontal Distance Minimization:**
  
  The **vertical launch configuration** combined with a **Westward heading** effectively neutralizes the Eastward wind, minimizing horizontal displacement upon landing. This adherence to the launch rail configuration ensures the rocket remains close to the initial launch site, satisfying the horizontal distance scoring criterion.

---

### **Projected Scores**

- **Distance to Max Apogee:** Meets the target apogee of **3048.0 meters** with an expected apogee of approximately **3068 meters**.
- **Cost:** Estimated to be within a **cost-effective range**, balancing motor and material expenses.
- **Safe Landing:** Designed for impact velocities well below **5 m/s**, ensuring a safe landing.
- **Structural Integrity:** Passes all structural integrity checks with a robust yet lightweight design.
- **Horizontal Distance:** Launch configuration minimizes horizontal displacement, keeping the rocket within **2 meters** of the launch site.

**Total Projected Score: 95/100**

---

This optimized design effectively balances the required thrust, structural integrity, aerodynamic efficiency, safety features, and cost considerations. The careful selection of materials and components, combined with precise calculations, positions this rocket design to successfully achieve and slightly exceed the target apogee while ensuring a safe and controlled landing near the launch site.
Score: 5.07/100
Target Apogee: 3048.0m, Actual: 738.80m, Error: 75.76%
Structural integrity: PASSED
Cost: $215.11


Based on previous attempts, please provide an improved rocket design.